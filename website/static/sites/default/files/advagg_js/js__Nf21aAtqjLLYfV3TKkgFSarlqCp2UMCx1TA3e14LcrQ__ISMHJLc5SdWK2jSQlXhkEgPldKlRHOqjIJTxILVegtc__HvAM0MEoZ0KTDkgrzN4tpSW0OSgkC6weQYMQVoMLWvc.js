(function(e){Drupal.admin=Drupal.admin||{};Drupal.admin.behaviors=Drupal.admin.behaviors||{};Drupal.admin.hashes=Drupal.admin.hashes||{};Drupal.behaviors.adminMenu={attach:function(n,a){a.admin_menu=e.extend({suppress:!1,margin_top:!1,position_fixed:!1,tweak_modules:!1,tweak_permissions:!1,tweak_tabs:!1,destination:'',basePath:a.basePath,hash:0,replacements:{}},a.admin_menu||{});if(a.admin_menu.suppress){return};var i=e('#admin-menu:not(.admin-menu-processed)',n);if(!i.length&&a.admin_menu.hash){Drupal.admin.getCache(a.admin_menu.hash,function(i){if(typeof i=='string'&&i.length>0){e('body',n).append(i)};var t=e('#admin-menu:not(.admin-menu-processed)',n);Drupal.admin.attachBehaviors(n,a,t);e(window).triggerHandler('resize')})}
else{Drupal.admin.attachBehaviors(n,a,i)}}};Drupal.behaviors.adminMenuCollapseModules={attach:function(n,a){if(a.admin_menu.tweak_modules){e('#system-modules fieldset:not(.collapsed)',n).addClass('collapsed')}}};Drupal.behaviors.adminMenuCollapsePermissions={attach:function(n,a){if(a.admin_menu.tweak_permissions){e('#permissions th:first',n).css({width:e('#permissions th:first',n).width()});$modules=e('#permissions tr:has(td.module)',n).once('admin-menu-tweak-permissions',function(){var n=e(this);n.bind('click.admin-menu',function(){n.nextAll().each(function(){var n=e(this);if(n.is(':has(td.module)')){return!1};n.toggleClass('element-hidden')})})});if(window.location.hash.length){$modules=$modules.not(':has('+window.location.hash+')')};$modules.trigger('click.admin-menu')}}};Drupal.behaviors.adminMenuMarginTop={attach:function(n,a){if(!a.admin_menu.suppress&&a.admin_menu.margin_top){e('body:not(.admin-menu)',n).addClass('admin-menu')}}};Drupal.admin.getCache=function(n,a){if(Drupal.admin.hashes.hash!==undefined){return Drupal.admin.hashes.hash};e.ajax({cache:!0,type:'GET',dataType:'text',global:!1,url:Drupal.settings.admin_menu.basePath.replace(/admin_menu/,'js/admin_menu/cache/'+n),success:a,complete:function(e,n){Drupal.admin.hashes.hash=n}})};Drupal.admin.height=function(){var n=e('#admin-menu'),a=n.outerHeight();if(n.css('filter')&&n.css('filter').match(/DXImageTransform\.Microsoft\.Shadow/)){a-=n.get(0).filters.item('DXImageTransform.Microsoft.Shadow').strength};return a};Drupal.admin.attachBehaviors=function(n,a,i){if(i.length){i.addClass('admin-menu-processed');e.each(Drupal.admin.behaviors,function(){this(n,a,i)})}};Drupal.admin.behaviors.positionFixed=function(e,n,a){if(n.admin_menu.position_fixed){a.addClass('admin-menu-position-fixed');a.css('position','fixed')}};Drupal.admin.behaviors.pageTabs=function(n,a,i){if(a.admin_menu.tweak_tabs){var t=e(n).find('ul.tabs.primary');i.find('#admin-menu-wrapper > ul').eq(1).append(t.find('li').addClass('admin-menu-tab'));e(n).find('ul.tabs.secondary').appendTo('#admin-menu-wrapper > ul > li.admin-menu-tab.active').removeClass('secondary');t.remove()}};Drupal.admin.behaviors.replacements=function(n,a,i){for(var t in a.admin_menu.replacements){e(t,i).html(a.admin_menu.replacements[t])}};Drupal.admin.behaviors.destination=function(n,a,i){if(a.admin_menu.destination){e('a.admin-menu-destination',i).each(function(){this.search+=(!this.search.length?'?':'&')+Drupal.settings.admin_menu.destination})}};Drupal.admin.behaviors.hover=function(n,a,i){e('li.expandable',i).hover(function(){clearTimeout(this.sfTimer);e('> ul',this).css({left:'auto',display:'block'}).parent().siblings('li').children('ul').css({left:'-999em',display:'none'})},function(){var n=e('> ul',this);this.sfTimer=setTimeout(function(){n.css({left:'-999em',display:'none'})},400)})};Drupal.admin.behaviors.search=function(n,a,i){var s=e('input.admin-menu-search',i),t=s.val(),r,m=2,u=e('<div />').insertAfter(s);function o(){var n,a,s=e(this).val();if(s!==t){t=s;if(!r&&t.length>=m){r=d(i.find('li:not(.admin-menu-action, .admin-menu-action li) > a'))};if(t.length<m){u.empty()};if(t.length>=m&&r){n=l(t,r);a=h(n);u.empty().append(a)}}};function d(e){return e.map(function(){var e=(this.textContent||this.innerText);if(typeof e==='undefined'){return};return{text:e,textMatch:e.toLowerCase(),element:this}})};function l(n,a){var i=n.toLowerCase();return e.grep(a,function(e){return e.textMatch.indexOf(i)!==-1})};function h(n){var a=e('<ul class="dropdown admin-menu-search-results" />');e.each(n,function(){var n=this.text,t=e(this.element),s=t.closest('#admin-menu-wrapper > ul > li'),r=s.find('> a').text();if(s.length&&r){n=r+': '+n};var i=e('<li><a href="'+t.attr('href')+'">'+n+'</a></li>');i.data('original-link',e(this.element).parent());a.append(i)});return a};function c(n){var a=e(this),i=n.type==='mouseenter'||n.type==='focusin';a.trigger(i?'showPath':'hidePath',[this])};function p(n,a){var i=e(this).data('original-link');i.trigger('mouseleave');s.val('').trigger('keyup')};function f(n,a){if(a){var i=e(a).data('original-link'),t=n.type==='showPath';i.toggleClass('highlight',t);i.trigger(t?'mouseenter':'mouseleave')}};u.delegate('li','mouseenter mouseleave focus blur',c);u.delegate('li','click',p);i.delegate('.admin-menu-search-results li','showPath hidePath',f);s.bind('keyup search',o)}})(jQuery);;/*})'"*/
(function(t){if(typeof Drupal.wysiwygAttach!=='undefined'){return};var n={};var a={};var e={'global':{'drupal':{},'native':{}}};var i={};var f={};var c={};function r(t){if(n[t]){return n[t]};var e=(t.indexOf('--')===-1?t:t.substr(0,t.indexOf('--')));if(n[e]){return n[e]};throw new Error('Wysiwyg module has no information about field "'+t+'"')};function g(t){if(a[t]){return a[t]};return{editor:'none',getPluginInfo:function(){return s(t)}}};function s(t){var a,i;if((a=t.match(/^global:(\w+)$/))){t='global';i=a[1]};if(!e[t]){return{}};if(t==='global'&&typeof i!=='undefined'){return{'drupal':e.global.drupal,'native':(e.global['native'][i])}};return e[t]};Drupal.behaviors.attachWysiwyg={attach:function(e,i){if(/KDE/.test(navigator.vendor)){return};var a=t('.wysiwyg:input',e);if(!a.length){return};h(i.wysiwyg,e);a.once('wysiwyg',function(){var i=t('#'+this.id,document);if(!i.length){return};Drupal.wysiwygAttach(e,this.id)}).closest('form').submit(function(e){if(e.isDefaultPrevented()){return};var i=this;t('.wysiwyg:input',this).each(function(){Drupal.wysiwygDetach(i,this.id,'serialize')})})},detach:function(e,a,n){var r;if(n=='serialize'){r=t('.wysiwyg-processed:input',e)}
else{r=t('.wysiwyg:input',e).removeOnce('wysiwyg')};r.each(function(){Drupal.wysiwygDetach(e,this.id,n);if(n==='unload'){delete i[this.id];delete Drupal.wysiwyg.instances[this.id]}})}};Drupal.wysiwygAttach=function(e,a){var n=r(a),s=(n.summary&&(!n.formats[n.activeFormat]||!n.formats[n.activeFormat].skip_summary));l(a,e,'unload');var u=!!i[n.summary];if(s||u){l(a,e,'unload',{summary:!0})};Drupal.wysiwyg.activeId=a;Drupal.wysiwygAttachToggleLink(e,a);o(a,e);if(s||u){if(t('#'+n.summary).parents('.text-summary-wrapper').is(':visible')){o(a,e,{summary:!0,forceDisabled:!s})}
else{o(a,e,{summary:!0,forceDisabled:!0});t('#'+a).parents('.text-format-wrapper').find('.link-edit-summary').closest('.field-edit-link').unbind('click.wysiwyg').bind('click.wysiwyg',function(){l(a,e,'unload',{summary:!0});o(a,e,{summary:!0,forceDisabled:!s});t(this).unbind('click.wysiwyg')})}}};function w(e){this.field=e.field;this.editor=e.editor;this['status']=e['status'];this.format=e.format;this.resizable=e.resizable;this.insert=function(t){return e['status']?e.insert(t):Drupal.wysiwyg.editor.instance.none.insert.call(e,t)};this.getContent=function(){return e['status']?e.getContent():Drupal.wysiwyg.editor.instance.none.getContent.call(e)};this.setContent=function(t){return e['status']?e.setContent(t):Drupal.wysiwyg.editor.instance.none.setContent.call(e,t)};this.isFullscreen=function(i){return e['status']&&t.isFunction(e.isFullscreen)?e.isFullscreen():!1};this.openDialog=function(i,a){if(t.isFunction(e.openDialog)){return e.openDialog(i,a)}};this.closeDialog=function(i){if(t.isFunction(e.closeDialog)){return e.closeDialog(i)}}};function d(e){t.extend(!0,this,Drupal.wysiwyg.editor.instance[e.editor]);t.extend(!0,this,e);this.$field=t('#'+this.field);this.pluginInfo={'global':s('global:'+e.editor),'instances':s(e.format)};this.publicInstance=new w(this);var i=[];this.startWatching=function(t,e,a){var n=new v(),r=this;n.addCallback(function(){r.contentsChanged()});n.start(t,e,a);i.push(n)};this.stopWatching=function(){while(i.length){var t=i.pop();t.stop()}}};d.prototype.contentsChanged=function(){if(this.$field.attr('data-wysiwyg-value-is-changed')==='false'){this.$field.attr('data-wysiwyg-value-is-changed','true')};this.$field.trigger('drupal-wysiwyg-changed',this.publicInstance)};function h(i,r){var m=i.plugins;for(var d in m.drupal){if(!(d in e.global.drupal)){e.global.drupal[d]=m.drupal[d]}};for(var v in m['native']){for(var d in m['native'][v]){e.global['native'][v]=(e.global['native'][v]||{});if(!(d in e.global['native'][v])){e.global['native'][v][d]=m['native'][v][d]}}};for(var h in m){if(h.substr(0,6)!=='format'){continue};e[h]=(e[h]||{'drupal':{},'native':{}});for(var d in m[h].drupal){if(!(d in e[h].drupal)){e[h].drupal[d]=m[h].drupal[d]}};for(var d in m[h]['native']){if(!(d in e[h]['native'])){e[h]['native'][d]=m[h]['native'][d]}};delete m[h]};for(var u in i.configs){if(!i.configs.hasOwnProperty(u)){continue};for(var o in i.configs[u]){if(a[o]||!i.configs[u].hasOwnProperty(o)){continue};a[o]={editor:u,toggle:!0,editorSettings:y(i.configs[u][o])}};if(!f[u]&&typeof Drupal.wysiwyg.editor.init[u]==='function'){Drupal.wysiwyg.editor.init[u](jQuery.extend(!0,{},i.configs[u]),s('global:'+u));f[u]=!0}
else if(typeof Drupal.wysiwyg.editor.update[u]==='function'){Drupal.wysiwyg.editor.update[u](jQuery.extend(!0,{},i.configs[u]),s('global:'+u))}};for(var F in i.triggers){var l=i.triggers[F],D=l.field,x=(D.indexOf('--')===-1?D:D.substr(0,D.indexOf('--'))),w=null;if(t('#'+F,r).length===0){continue};if(!(w=n[x])){w=n[x]={formats:{},select:l.select,resizable:l.resizable,summary:l.summary,getFormatInfo:function(){if(this.select){this.activeFormat='format'+t('#'+this.select+':input').val()};return g(this.activeFormat)}}};for(var o in l){if(o.indexOf('format')!=0||w.formats[o]){continue};w.formats[o]={'enabled':l[o].status};if(!a[o]){a[o]={editor:l[o].editor,editorSettings:{},getPluginInfo:function(){return s(formatId)}}};a[o].toggle=l[o].toggle;if(l[o].skip_summary){w.formats[o].skip_summary=!0}};var b=null;w.summary=l.summary;if(l.select){c[l.select.replace(/--\d+$/,'')]=l.field;w.select=l.select;b=t('#'+l.select+':input',r).filter('select');b.unbind('change.wysiwyg').bind('change.wysiwyg',p)};w.activeFormat='format'+(b?b.val():l.activeFormat);w.enabled=w.formats[w.activeFormat]&&w.formats[w.activeFormat].enabled}};function o(t,e,a){a=a||{};var n=r(t),o=(a.summary?n.summary:t),l=n.getFormatInfo(),u=(n.enabled&&!a.forceDisabled),f=(u?l.editor:'none'),y=(u?jQuery.extend(!0,{},l.editorSettings):{});var c={field:o,editor:l.editor,'status':u,format:n.activeFormat,resizable:n.resizable};var s=new d(c);i[o]=s;Drupal.wysiwyg.instances[o]=s.publicInstance;Drupal.wysiwyg.editor.attach[f].call(s,e,c,y)};Drupal.wysiwygDetach=function(e,a,n){var s=r(a),n=n||'unload';l(a,e,n);if(n=='unload'){o(a,e,{forceDisabled:!0});Drupal.wysiwygAttachToggleLink(e,a)};if(s.summary&&i[s.summary]){t('#'+a).parents('.text-format-wrapper').find('.link-edit-summary').unbind('click.wysiwyg');l(a,e,n,{summary:!0});if(n=='unload'){o(a,e,{summary:!0})}}};function l(e,a,s,u){u=u||{};var o=r(e),n=(u.summary?o.summary:e),c=t('#'+n),l=!1,f='none';if(i[n]){l=i[n]['status'];f=(l?i[n].editor:'none')};var d={field:n,'status':l,editor:o.editor,format:o.activeFormat,resizable:o.resizable};if(jQuery.isFunction(Drupal.wysiwyg.editor.detach[f])){Drupal.wysiwyg.editor.detach[f].call(i[n],a,d,s)};if(l&&c.attr('data-wysiwyg-value-is-changed')==='false'){c.val(c.attr('data-wysiwyg-value-original'))};if(s=='unload'&&i[n]){i[n].stopWatching();delete Drupal.wysiwyg.instances[n];delete i[n]}};Drupal.wysiwygAttachToggleLink=function(e,i){var a=r(i),l=a.getFormatInfo().editor;if(!a.getFormatInfo().toggle){t('#wysiwyg-toggle-'+i).hide();return};if(!t('#wysiwyg-toggle-'+i,e).length){var o=document.createTextNode(a.enabled?Drupal.settings.wysiwyg.disable:Drupal.settings.wysiwyg.enable),s=document.createElement('a'),n=document.createElement('div');t(s).attr({id:'wysiwyg-toggle-'+i,href:'javascript:void(0);'}).append(o);t(n).addClass('wysiwyg-toggle-wrapper').append(s);if(t('#'+a.select).closest('.fieldset-wrapper').prepend(n).length==0){t('#'+i).after(n)}};t('#wysiwyg-toggle-'+i,e).html(a.enabled?Drupal.settings.wysiwyg.disable:Drupal.settings.wysiwyg.enable).show().unbind('click.wysiwyg').bind('click.wysiwyg',{'fieldId':i,'context':e},Drupal.wysiwyg.toggleWysiwyg);if(l=='none'){t('#wysiwyg-toggle-'+i).hide()}};Drupal.wysiwyg.toggleWysiwyg=function(t){var a=t.data.context,i=t.data.fieldId,e=r(i);delete e.previousFormat;if(e.enabled){e.enabled=!1;Drupal.wysiwygDetach(a,i,'unload')}
else{e.enabled=!0;Drupal.wysiwygAttach(a,i)};e.formats[e.activeFormat].enabled=e.enabled};function p(e){var s=c[this.id.replace(/--\d+$/,'')],l=t('#'+s),a=t(this),u=a.closest('form'),n='format'+a.val(),i=r(s);if(n===i.activeFormat){return};if(i.formats[i.activeFormat]){i.formats[i.activeFormat].enabled=i.enabled};if(l.val().length>0&&i.formats[n]&&i.formats[n].editor!=='none'){var o=Drupal.t('Are you sure you want to change the text format?\n\nChanging the text format to @text_format and enabling the associated editor will permanently remove content that is not allowed in both text formats.\n\nCancel and save your changes before switching the text format to avoid losing data.',{'@text_format':a.find('option:selected').text()});if(!window.confirm(o)){a.val(i.activeFormat.substr(6));a.trigger('change');return}};i.previousFormat=i.activeFormat;i.activeFormat=n;if(i.formats[i.activeFormat]){i.enabled=i.formats[i.activeFormat].enabled}
else{i.enabled=!1};Drupal.wysiwygAttach(u,s)};function y(t){var i=null;if(typeof t!='object'){return t};i=new t.constructor();if(t.drupalWysiwygType){switch(t.drupalWysiwygType){case'callback':i=m(t.name,t.context);break;case'regexp':i=new RegExp(t.regexp,t.modifiers?t.modifiers:undefined);break;default:i.drupalWysiwygType=t.drupalWysiwygType}}
else{for(var e in t){if(t.hasOwnProperty(e)&&t[e]&&typeof t[e]=='object'){i[e]=y(t[e])}
else{i[e]=t[e]}}};return i};function m(t,e){var i=t.split('.'),r=i.pop(),n=window;for(var a=0;n&&a<i.length;a++){n=n[i[a]]};if(!n){throw'Wysiwyg: Unable to locate callback '+i.join('.')+'.'+r+'()'};if(!e){e=n}
else if(typeof e=='string'){i=e.split('.');e=window;for(a=0;e&&a<i.length;a++){e=e[i[a]]};if(!e){throw'Wysiwyg: Unable to locate context object '+i.join('.')}};if(typeof n[r]!='function'){throw'Wysiwyg: '+r+' is not a callback function'};return function(){return n[r].apply(e,arguments)}};var u=(Drupal.ajax?Drupal.ajax.prototype.beforeSerialize:!1);if(u){Drupal.ajax.prototype.beforeSerialize=function(e,i){var r=u.call(this,e,i),a=[];t.each(Drupal.wysiwyg.excludeIdSelectors,function(){if(t.isArray(this)){a=a.concat(this)}});if(a.length>0){var n=i.data['ajax_html_ids[]'];if(!n||n.length===0){return r};i.data['ajax_html_ids[]']=[];t('[id]:not('+a.join(',')+')').each(function(){if(t.inArray(this.id,n)!==-1){i.data['ajax_html_ids[]'].push(this.id)}})};return r}};t(document).unbind('CToolsDetachBehaviors.wysiwyg').bind('CToolsDetachBehaviors.wysiwyg',function(e,a){t('.wysiwyg:input',a).removeOnce('wysiwyg').each(function(){Drupal.wysiwygDetach(a,this.id,'unload');delete Drupal.wysiwyg.instances[this.id];delete i[this.id];var t=(this.id.indexOf('--')===-1?this.id:this.id.substr(0,this.id.indexOf('--')));delete n[t]})});function v(){var e,t,n=[],i,a,r;function s(){for(var t=0;t<n.length;t++){n[t][0].apply(n[t][1])}};this.start=function(n,o,l){t=n;r=o;a=l;if(e){clearInterval(e);e=null};if(t.is(':input')){i=t.val();t.bind('input.wysiwyg-watch selectionchange.wysiwyg-watch propertychange.wysiwyg-watch change.wysiwyg-watch',function(e){if(!a||a(r)){var n=t.val();if(n!==i){if(i!=undefined){s()};i=n}}})}
else if(!e){i=t.html();e=setInterval(function(){if(!a||a(r)){var e=t.html();if(e!==i){s();i=e}}},100)}};this.stop=function(){if(t.is(':input')){t.unbind('input.wysiwyg-watch selectionchange.wysiwyg-watch propertychange.wysiwyg-watch change.wysiwyg-watch')}
else if(e){clearInterval(e);e=null};t=null;r=null;a=null};this.addCallback=function(t,e){if(!e){e=window};n.push([t,e])}};Drupal.wysiwyg.utilities={onFullscreenEnter:function(){t('#toolbar, #admin-menu',Drupal.overlayChild?window.parent.document:document).hide()},onFullscreenExit:function(){t('#toolbar, #admin-menu',Drupal.overlayChild?window.parent.document:document).show()}}})(jQuery);;/*})'"*/
